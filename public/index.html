<!DOCTYPE html>
<html lang="en">

<head>
        <title>Travel-Planner</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" href="../stylesheets/jquery-ui.css">        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- <link href="../stylesheets/jquery.loader.css" rel="stylesheet" /> -->
        <link href="https://fonts.googleapis.com/css?family=Noto+Sans:700" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="../stylesheets/style.css">
        <style>
      #map {
        display: none;
      }
     
    </style>
    <script>

      var map;

      function initSearch(lat, lon, keyword) {
              console.log(lat, lon, keyword);
        let location = {lat: lat, lng: lon};

        map = new google.maps.Map(document.getElementById('map'), {
          center: location,
          zoom: 15
        });

        var service = new google.maps.places.PlacesService(map);
        service.textSearch({
          location: location,
          query: keyword
        }, callback);
      }

      function callback(results, status) {

        const searchResults = results.splice(9, 10);
        const secondSearchResults = results.splice(0, 10);
        setTimeout(function(){ displayPlaces(searchResults); }, 2000);
        setTimeout(function(){ displayPlaces(secondSearchResults); }, 7000);
      }

      function displayPlaces(data) {
        const places = data.map((result, index) => renderPlaces(result,index));
        Promise.all(places)
        .then((arrResolvedPromises) => {
      $(".activityResultsContainer").append(arrResolvedPromises);
      displayDayDropDown();
    })
}

function renderPlaces (result, index) {
  return new Promise((resolve) => {
  const placeId = result.place_id
  const placeName = result.name;
  const placeAddress = result.formatted_address;
  const type = result.types[0];
  const rating = result.rating;
  
  getPlaceUrl(placeId, function(place, status){

          let placeURL = '';
          if (place === null) {

          let places = '<div class="activityResults">';
        places += `<p>Name: <span id="placeName">${placeName}</span></p>`;
        places += `<p>Rating: <span>${rating}/5</span></p>`;
        places += `<p>Type: <span>${type}</span></p>`;
        places += `<p>Address: <span id="placeAddress">${placeAddress}</span></p>`;
        places += '<select class="dayDropDown" name="days">';
                
        places += '</select>';
        places += '<button id="addToPlanner" type="submit">Add to Planner</button>';
        places += '</div>';
        resolve(places);
          }
          else {
                placeURL = place.website;

          let places = '<div class="activityResults">';
        places += `<p>Name: <span id="placeName"><a href="${placeURL}" target="_blank">${placeName}</a></span></p>`;
        places += `<p>Rating: <span>${rating}/5</span></p>`;
        places += `<p>Type: <span>${type}</span></p>`;
        places += `<p>Address: <span id="placeAddress">${placeAddress}</span></p>`;
        places += '<select class="dayDropDown" name="days">';
                
        places += '</select>';
        places += '<button id="addToPlanner" type="submit">Add to Planner</button>';
        places += '</div>';
        resolve(places);
        }
      })
  });
}

function getPlaceUrl(placeId, callback) {
        const details = new google.maps.places.PlacesService(map);
                details.getDetails({
                        placeId 
                }, callback);
}
    </script>
</head>

<body>
 <nav role="navigation">
        <h1><img class="logo" src="../images/globe icon.png"/>&nbsp; &nbsp;Travel Planner</h1>
        <ul class="navList-activity hidden">
            <li><a id="profileNav-activity" href="#">Profile Page</a></li>
            <li><a id="packingNav-activity" href="#">Packing List</a></li>
            <li><a id="plannerNav-activity" href="#">Trip Planner</a></li>
        </ul> 
        <ul class="navList-planner hidden">
            <li><a id="profileNav-planner" href="#">Profile Page</a></li>
            <li><a id="packingNav-planner" href="#">Packing List</a></li>
            <li><a id="activityNav-planner" href="#">Activity Selection Page</a></li>
        </ul>
        <ul class="navList-day hidden">
            <li><a id="profileNav-day" href="#">Profile Page</a></li>
            <li><a id="packingNav-day" href="#">Packing List</a></li>
            <li><a id="plannerNav-day" href="#">Trip Planner</a></li>
            <li><a id="activityNav-day" href="#">Activity Selection Page</a></li>
        </ul>
        <ul class="navList-packing hidden">
            <li><a id="profileNav-packing" href="#">Profile Page</a></li>
            <li><a id="plannerNav-packing" href="#">Trip Planner</a></li>
            <li><a id="activityNav-packing" href="#">Activity Selection Page</a></li>
        </ul>   
 </nav>
 <main role="main" class="landing">
        <div class="landingTop">
                <h2 class="fadeOutHeader">All of your traveling needs in one place</h1>
        </div>
        <div class="landingBottom">
                <h2>Features</h2>
                <ul class="landingList">
                        <li>Search for things to do</li>
                        <li>Add them to your planner</li>
                        <li>Make a packing list</li>
                </ul>
                <button id="signUp-button" class="button-left" type="button">Sign Up</button>
                <button id="logIn-button" class="button-right" type="button">Log In</button>
        </div>
   
 </main>
 <main role="main" class="signUp hidden">
        <form id="signUpForm">
                <div class="container">
                  <h1>Sign Up</h1>
                  <p>Please fill in this form to create an account</p>

                  <label for="name">First Name</label>
                  <input type="text" id="signUp-firstName" value="Ryan" name="name" required><br><br>

                  <label for="username">Username</label>
                  <input type="text" id="signUp-username" value="rmmoll23" name="username" required><br><br>
              
                  <label for="password">Password</label>
                  <input type="password" id="signUp-password" value="mollski1" name="password" required><br><br>
              
                  <label for="password-confirm">Confirm Password</label>
                  <input type="password" id="signUp-passwordB" value="mollski1" name="password-confirm" required><br><br>
                  <button id="cancel" class="button-left" type="button">Cancel</button>
                  <button id="createAccount" class="button-right" type="submit">Submit</button>
                  

                  <p>Already have an account? <a id="toLogIn" href="#">Log in</a></p>
                </div>
        </form>
   
</main>
<main role="main" class="logIn hidden">
        <form>
                <div class="container">
                  <h1>Log in</h1>
                  <p>Please enter your username and password</p>
              
                  <label for="username">Username</label>
                  <input id="logIn-username" type="text" placeholder="Enter Username" value="rmmoll23" name="username" required><br><br>
              
                  <label for="password">Password</label>
                  <input id="logIn-password" type="password" placeholder="Enter Password" name="password" value="mollski1" required><br><br>
                  <button id="cancelLogIn" class="button-left" type="button">Cancel</button>
                  <button id="enterApp" class="button-right" type="submit">Submit</button>
              
                  <p>Don't have an account? <a id="toSignUp" href="#">Sign up</a></p>
                </div>
        </form>
   
</main>
<main role="main" class="profile hidden">
        <h1 >Welcome, <span id="firstName">John!</span></h1>
        <h2>Current Saved Trips</h2>
        <ul id="tripList">
               
        </ul>
        <button id="newTrip" type="button">Create new trip</button>       
</main>
<main role="main" class="newTrip hidden">
        <form>
                <div class="container">
                  <h1>Create new trip</h1>

                  <label for="tripName">Name of trip</label>
                  <input type="text" id="tripName" placeholder="Enter name of trip" name="tripName" value="demo" required><br><br>

                  <label for="city">Location</label>
                  <input type="text" id="tripLocation" placeholder="Enter city" name="city" value="Denver" required><br><br>
              
                  <label for="from">Start Date</label>
                  <input type="text" id="from" name="from" placeholder="Enter trip start date" value="04/16/2018"><br><br>

                  <label for="to">End Date</label>
                  <input type="text" id="to" name="to" placeholder="Enter trip end date" value="04/23/2018"><br><br>

                  <button id="cancelTrip" class="button-left" type="button">Cancel</button>
                  <button id="createTrip" class="button-right" type="submit">Submit</button>
                  
                </div>
        </form>
</main>
<main role="main" class="activitySelection hidden">
        <h1 class="viewHeader">Paris Getaway (8 days)</h1>
        <h2>5 Day Weather Forecast</h2>
        <div class="weatherBar">
                
        </div>
        <div class="searchContainers">
                <div class="restaurantSearch">
                        <h2>Restaurants</h2>
                        <div class="restaurantContainer">
                                
                        </div>
                </div>
                <div class="activitySearch">
                        <h2>Activities/Places to Stay</h2>
                        <div class="activityContainer">
                                <label for="search"></label>
                                <input name="search" id="activitySearch-input" type="text" placeholder="search" required>
                                <button id="activitySearch-button" type="submit">Search</button>
                                <div class="activityResultsContainer">

                                </div>
                        </div>
                </div>
                <div class="hikeSearch">
                        <h2>Hiking Trails</h2>
                        <div class="hikeContainer">
                                
                        </div>
                </div>
        </div>
        <button id="viewPlanner" class="button-left" type="button">View Trip Planner</button>
        <button id="createPackList" class="button-right" type="button">Create Packing List</button>
</main>
<main role="main" class="tripPlanner hidden">
        <h1 class="viewHeader">Paris Getaway (8 days)</h1>
        <p>Select a day to view more details</p><br>
        <div class="plannerDays">
                
        </div>  

</main>
<main role="main" class="dayView hidden">
        
        </div>

</main>
<main role="main" class="packingList hidden">
        <h1 class="packListHeaders viewHeader">Paris Getaway (8 days)</h1>
        <div>
                <div class="packListContainer">
                        <h2 class="packListHeaders">Clothing</h2>
                        <div class="listBox">
                                <div class="itemList Clothing">
                                        <div class="items"><label><input type="checkbox">Shoes</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Socks</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Underwear</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Shirts</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Pants/Shorts</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Jackets/Coats</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Hat</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Belt</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Swim Suit</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Pajamas</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Gloves</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Sunglasses</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Formal Attire</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                </div>
                                <input type="text" placeholder="Add Item" name="addItem" class="itemToAdd" required><button class="button-addItem" type="button">Add Item</button>
                        </div>
                </div>
                <div class="packListContainer">
                        <h2 class="packListHeaders">Pets</h2>
                        <div class="listBox">
                                <div class="itemList Pets">
                                        <div class="items"><label><input type="checkbox">Leashes</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Food/Water</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Collar/Harness</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Bowls</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Medication</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Poop Bags</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Blankets</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                </div>
                                <input type="text" placeholder="Add Item" name="addItem" class="itemToAdd" required><button class="button-addItem" type="button">Add Item</button>
                        </div>
                </div>
                <div class="packListContainer">
                        <h2 class="packListHeaders">Media</h2>
                        <div class="listBox">
                                <div class="itemList Media">
                                        <div class="items"><label><input type="checkbox">Phone</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Laptop</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Tablet</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Camera</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Chargers</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Headphones</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Batteries</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Book</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                </div>
                                <input type="text" placeholder="Add Item" name="addItem" class="itemToAdd" required><button class="button-addItem" type="button">Add Item</button>
                        </div>
                </div>
                <div class="packListContainer">
                        <h2 class="packListHeaders">Toiletries</h2>
                        <div class="listBox">
                                <div class="itemList Toiletries">
                                        <div class="items"><label><input type="checkbox">Shampoo</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Conditioner</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Body Wash</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Toothbrush</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Toothpaste</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Deodorant</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Cologne</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Perfume</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Razor</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Shaving Cream</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Makeup</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Lotion</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Medication</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Bandaids</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Hand Sanitizer</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Sunscreen</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                </div>
                                <input type="text" placeholder="Add Item" name="addItem" class="itemToAdd" required><button class="button-addItem" type="button">Add Item</button>
                        </div>
                </div>
                <div class="packListContainer">
                        <h2 class="packListHeaders">Travel</h2>
                        <div class="listBox">
                                <div class="itemList Travel">
                                        <div class="items"><label><input type="checkbox">Passport</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Cash/Money Order</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Wallet/Purse</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Keys</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                </div>
                                <input type="text" placeholder="Add Item" name="addItem" class="itemToAdd" required><button class="button-addItem" type="button">Add Item</button>
                        </div>
                </div>
                <div class="packListContainer">
                        <h2 class="packListHeaders">Miscellaneous</h2>
                        <div class="listBox">
                                <div class="itemList Miscellaneous">
                                        <div class="items"><label><input type="checkbox">Event tickets</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Travel Tickets</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Wallet/Purse</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                        <div class="items"><label><input type="checkbox">Keys</label> <div class="delete"><i class="fa fa-close"></i></div><br></div>
                                </div>
                                <input type="text" placeholder="Add Item" name="addItem" class="itemToAdd" required><button class="button-addItem" type="button">Add Item</button>
                        </div>
                </div>
                                        
        </div>
</main>

 <footer role="contentinfo">
    <ul>
        <li><p id="copyright">© 2018 Ryan Moll</p></li>
        <li><a href="mailto:rmmoll23@gmail.com?Subject=Hello" title="Send me an email">Email</a></li>
        <li><a href="https://www.linkedin.com/in/ryan-moll-a876ba70/" target="_blank">LinkedIn</a></li>
        <li><a href="https://github.com/rmmoll23" title="Check out my code on GitHub" target="_blank">GitHub</a></li>
    </ul>      
 </footer>
 <div id="map"></div>
 <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCI0aS01tu1KsJFA2fWIJCB8L-_Lb9k_qo&libraries=places" async defer></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script >
        function datePickerCalendar() {
    var dateFormat = "mm/dd/yy",
      from = $( "#from" )
        .datepicker({
          defaultDate: "+1w",
          changeMonth: true,
          numberOfMonths: 1
        })
        .on( "change", function() {
          to.datepicker( "option", "minDate", getDate( this ) );
        }),
      to = $( "#to" ).datepicker({
        defaultDate: "+1w",
        changeMonth: true,
        numberOfMonths: 1
      })
      .on( "change", function() {
        from.datepicker( "option", "maxDate", getDate( this ) );
      });
 
    function getDate( element ) {
      var date;
      try {
        date = $.datepicker.parseDate( dateFormat, element.value );
      } catch( error ) {
        date = null;
      }
 
      return date;
    }
  };
  $(datePickerCalendar());
</script>
 <script
 src="https://code.jquery.com/jquery-3.2.1.min.js"
 integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
 crossorigin="anonymous">
</script>
<script src="../javascripts/signUp.js"></script>
<script src="../javascripts/logIn.js"></script>
<script src="../javascripts/main.js"></script>

</body>

</html>
